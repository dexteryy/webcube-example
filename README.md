
# WebCube Example App

> * [webcube](https://github.com/dexteryy/webcube): Out-of-the-box configuration and toolkits for Static/Universal Web App (ES6 + React + Redux + ...)
> * [webcube-cli](https://github.com/dexteryy/webcube): TODO

## Structure

- **configs/** - Project-defined configuration files and build scripts
  - `env.sample.config` - Project-defined template file for [env.config](custom.env.sample.config)
- **app/** - All source code for web app (shared between client-side and server-side), including JS, CSS and assets
  - **components/** - [Presentational components](https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0#.3o294zvoz)
  - **entries/** - Multiple entry points, see [details](#multiple-entry-points-optional)
    - _**example-app/**_ - An entry point
      - **containers/** - [Container components](https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0#.3o294zvoz)
      - **decorators/** - [Higher-order Components](https://medium.com/@dan_abramov/mixins-are-dead-long-live-higher-order-components-94a0d2f9e750)
      - **reducers/** - [Redux Reducers](http://redux.js.org/docs/basics/Reducers.html)
      - **actions/** - [Flux Standard Action](https://www.npmjs.com/package/redux-actions)
      - **constants/**
      - **routes/** - [React Router](https://github.com/reactjs/react-router/)
      - **styles/** - CSS/SCSS/CSSInJS shared between container components
      - **tests/** - See [Testing](#testing) section
      - `index.js`
    - _**page2/**_ - See 'entry' generator in [plopfile.babel.js][plopfile]
    - _**demo-page2/**_ - See [.gitignore][gitignore] and 'demo' generator in [plopfile.babel.js][plopfile]
    - ...
  - **lib/** - Library code which haven't been published to npm
  - **data/** - Shared data files
  - **assets/** - Shared images, fonts, audio, etc.
  - **styles/** - CSS/SCSS/CSSInJS shared between entry points
  - **containers/** - Shared [container components](https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0#.3o294zvoz)
    - `DevTools.jsx`
  - ...
  - **middleware/** - [Redux middleware](http://redux.js.org/docs/advanced/Middleware.html) shared between entry points
- **staticweb/** - For static web deployment or testing
  - _**example-app/**_ - For entry point
    - `index.html`, `deploy.js`, `deploy.scss`
  - _**page2/**_ - See 'entry' generator in [plopfile.babel.js][plopfile]
  - _**demo-page2/**_ - See [.gitignore][gitignore] and 'demo' generator in [plopfile.babel.js][plopfile]
  - ...
- **server/** - [TODO] A thin backend layer for universal web app and graphql-like api
- **runtime/** - [TODO] For Electron or Cordova
- **build/**
  - **public/** - Generated by Gulp and Webpack, do not manually modify
- ...
- `index.js` - For single entry point, imported by other projects
- `package.json`
- `env.config` - See [Setup - Step 1](#step-1)

## Getting Started

First of all, you must create a `env.config` file in the root directory. [`configs/env.sample.config`][custom.env.sample.config] is a complete template file for `env.config`

> NOTE: [`webcube/src/configs/env.sample.config`][env.sample.config] is a template file for project-defined [`configs/env.sample.config`][custom.env.sample.config]

Then, follow [webcube's document](https://github.com/dexteryy/webcube#how-to-build) to install / build / test / deploy / ...

## Other Conventions

#### Code Style

Similiar to [Airbnb JavaScript Style Guide](https://github.com/airbnb/javascript), [Airbnb React/JSX Style Guide](https://github.com/airbnb/javascript/tree/master/react)

More detail:

* [`.eslintrc.yml`](https://github.com/dexteryy/webcube-example/blob/master/.eslintrc.yml)
* [`.flowconfig`](https://github.com/dexteryy/webcube-example/blob/master/.flowconfig)
* [`.stylelintrc`](https://github.com/dexteryy/webcube-example/blob/master/.stylelintrc)
* [`.sass-lint.yml`](https://github.com/dexteryy/webcube-example/blob/master/.sass-lint.yml)
* [`.csscomb.json`](https://github.com/dexteryy/webcube-example/blob/master/.csscomb.json)
* [`.htmlhintrc`](https://github.com/dexteryy/webcube-example/blob/master/.htmlhintrc)

#### Recommended Editor/IDE

* [Atom](atom.io/) + following plugins:
  * [language-babel](https://atom.io/packages/language-babel)
  * [linter](https://atom.io/packages/linter) + [linter-eslint](https://atom.io/packages/linter-eslint) + [linter-flow](https://atom.io/packages/linter-flow) + [linter-sass-lint](https://atom.io/packages/linter-sass-lint) + [linter-htmlhint](https://atom.io/packages/linter-htmlhint)
  * [editorconfig](https://atom.io/packages/editorconfig)
  * [toggle-quotes](https://atom.io/packages/toggle-quotes) + [vim-surround](https://atom.io/packages/vim-surround)
  * [auto-detect-indentation](https://atom.io/packages/auto-detect-indentation) + [resize-indent](https://atom.io/packages/resize-indent)
  * [atom-css-comb](https://atom.io/packages/atom-css-comb)

Recommended Settings for Atom (config.cson):

```json
"linter":
  ignoreVCSIgnoredFiles: false
  lintOnFly: false
"linter-stylelint":
  disableWhenNoConfig: true
"linter-sass-lint":
  noConfigDisable: true
"language-babel":
  transpileOnSave: false
"atom-css-comb":
  projectConfigs: ".csscomb"
  readyMadeConfigs: "csscomb"
"whitespace":
  ignoreWhitespaceOnCurrentLine: false
"trailing-spaces":
  enableForCursorLines: true
```

#### Git Hooks

* pre-commit: `npm run lint`
* pre-push: `npm run build`

#### Committing Changes with [Commitizen](https://www.npmjs.com/package/commitizen)

> NOTE: Need `npm install commitizen -g`

```
git add .
git cz
```

[package.json]: https://github.com/dexteryy/webcube-example/blob/master/package.json
[env.sample.config]: https://github.com/dexteryy/webcube/blob/master/src/configs/env.sample.config
[custom.env.sample.config]: https://github.com/dexteryy/webcube-example/blob/master/configs/env.sample.config
[webpack.config]: https://github.com/dexteryy/webcube/blob/master/src/configs/webpack.default.config.babel.js
[custom.webpack.config]: https://github.com/dexteryy/webcube-example/blob/master/configs/webpack.config.babel.js
[gulpfile]: https://github.com/dexteryy/webcube/blob/master/src/configs/gulpfile.babel.js
[custom.gulpfile]: https://github.com/dexteryy/webcube-example/blob/master/configs/gulpfile.babel.js
[plopfile]: https://github.com/dexteryy/webcube/blob/master/src/configs/plopfile.babel.js
[custom.plopfile]: https://github.com/dexteryy/webcube-example/blob/master/configs/plopfile.babel.js
[karmaconf]: https://github.com/dexteryy/webcube/blob/master/src/configs/karma.conf.babel.js
[gitignore]: https://github.com/dexteryy/webcube-example/blob/master/.gitignore
